{"version":3,"sources":["assets/error-bg.jpg","assets/logo.png","assets/ring.svg","constants/actionTypes.ts","reducers/login.ts","reducers/create.ts","reducers/index.ts","store/index.ts","constants/index.js","components/LoginView.tsx","components/Error404.tsx","components/DarkBackground.tsx","components/CreateView.tsx","components/Playlist.tsx","components/Spinner.tsx","utils/millisToMinutes.ts","components/PlaylistItem.tsx","containers/Login.js","actions/login.ts","services/api.ts","services/user.ts","services/playlist.js","utils/getRandomInt.ts","services/search.ts","actions/create.ts","containers/Callback.js","containers/Create.js","routes/index.js","styles/GlobalStyles.tsx","utils/serviceWorker.ts","index.tsx"],"names":["module","exports","ActionTypes","initialState","loggedIn","errorDescription","inputValue","inputValueError","playlistName","fetchingTracks","generatingPlaylist","errorFetchingDescription","tracks","deleting","rootReducer","combineReducers","login","state","action","type","SAVE_ERROR_DESCRIPTION","payload","MAKE_LOGIN","MAKE_LOGOUT","create","CHANGE_INPUT_VALUE","CLEAR_INPUT_VALUE","CHANGE_PLAYLIST_NAME","ERROR_FETCHING","TRACKS_BEING_FETCHED","PUSH_NEW_TRACK","GENERATING_PLAYLIST","IS_DELETING","configureStore","middlewares","ReduxThunk","enhancers","applyMiddleware","createStore","tokenType","apiEndpoints","sites","palette","React","memo","onPressLoginBtn","Wrapper","Overlay","Container","Form","Logo","LoginText","LoginBtn","onClick","ErrorText","Slogan","Title","Subtitle","styled","div","bg","Share","css","h1","h2","logo","p","button","errorBg","onInputChange","clearInputValue","onGeneratePlaylist","isKeyDownDelete","InputBox","Label","length","ClearInput","Input","id","placeholder","value","onChange","onKeyDown","disabled","autoComplete","test","PlaylistBox","PlaylistName","loading","height","GenerateBtn","label","input","span","map","track","i","key","order","title","artist","album","duration","link","ol","Ring","src","ring","width","alt","img","millisToMinutes","millis","minutes","Math","floor","seconds","Number","toFixed","Track","NameContainer","Order","Link","href","target","Strong","substring","Description","Duration","li","a","transitionLogin","props","urlencoded","URLSearchParams","append","authOptions","method","url","headers","auth","username","process","password","data","axios","then","response","exp","expires_in","token","access_token","lscache","set","dispatch","history","push","catch","err","console","log","connect","saveErrorDescription","makeLogin","makeLogout","api","baseURL","Accept","interceptors","request","use","config","get","common","Authorization","error","Promise","reject","status","flush","window","location","message","userService","playlistService","userId","playlist","post","playlistId","getRandomInt","min","max","random","searchService","playlistNameLastCh","query","q","limit","offset","params","Actions","changeInputValue","createAction","changePlaylistName","name","errorFetching","pushNewTrack","generate","tracksBeingFetched","beingFetched","isDeleting","generatePlaylist","uris","getState","playlistUri","user","description","external_urls","spotify","addTracks","open","finally","items","find","toUpperCase","CreateActions","generatePlaylistAction","LoginActions","parseHash","hashName","hash","substr","indexOf","split","loginActions","bindActionCreators","createActions","useMemo","tracksWithPlaylist","splice","tracksUris","uri","queryString","parse","search","parseUrl","fetchTracks","idx","getSearchService","newTrack","artists","duration_ms","matchOrder","exitPushNewTrack","renderTask","replace","isFetchingTracks","e","keyCode","callback","redirect","encodeURIComponent","scopeUri","sort","b","join","implicitGrantFlowLogin","actions","useEffect","checkTkn","basename","toLocaleLowerCase","path","component","Login","exact","Callback","Create","Error404","globalStyles","GlobalStyles","styles","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","store","document","getElementById","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.3dbc197e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error-bg.434e11ee.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQwAAABQCAMAAADbabuZAAAAsVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+3mHKcAAAAOnRSTlMA0PBg+k8/ccGxBAvhD/aoEqHHMAfcH0jzhXgkQxeBNeVpWBu3k+korW5cvJiJO9N862RTLNaOm55e7HiiAAAACK5JREFUeNrtnNeaojAYhgOIohQpKiJYx4p17JP7v7AdpYSEIKCzsz6u79Go6xo//54ASKHBd6p6vQm/aUp6tbOzwf+JPNAkGGNc/VLBf0aFLxdgAoXhoAb+H+RWD97ks9MG/wdyh4WpKMv/wlu4McwEO6uAF8cWYGYYA7w0fQXmoNACr4tYhTkZvmzk+GBgbuovWobte/AOPrvgBdl/wrtgi+DlQFrkhX052/jowbthJ+ClEBn4APXXyilV+BDzVypG+/BBNuBlmCjwQQqvE0QF+DDrZ3CUrnVuNcBjbOEP8ARtyvFqo1/gEeQx/AGa/3zc0495bKM1l5rKJ6NtM6e7DqXG1qejVn9gFleGsSo6O65kacNDAd5ikTxDXM2OmnZezhwZ/EXq0EMLPtZCC56BbKgs7vyn/ipJx4ZT0g6JMTTBW41zE4borb9mQCL0OVDKhRLIxgaGjBc7Of1DHUug2siR6oNnUjPth/pcU7gSxqpaKDjymrxiVFAdXhWzbyNU2XjUoLzdrlNMyPqR4XoJXinHcqLlafN5hxg7VFTnWqM4GEKCbdaOZz35G2J0PXuVVM9w4B1ilGFAJ3dzt8TNQ89cwGh/QwxQvJih4IcuK+gUBs5gybjZDL6AqZcTsYSlZTKEDtBL7FiJPPj4UTEQhhkGpKn3spBaDNLXWwUY7f2K33HfuLzTtWtJcnSaMDGB6YFbDNRLLnKnvvKDn48ZSUa5BTnQIoFt5X+/4mwhSGTCYNfl5bYrUvLtGo2HCTmDp2vhM8uLfZzBL4jhzyQckINohGuWPtrmkYG3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\"","module.exports = __webpack_public_path__ + \"static/media/ring.cc9226ab.svg\";","export enum ActionTypes {\n  SAVE_ERROR_DESCRIPTION = 'SAVE_ERROR_DESCRIPTION',\n  MAKE_LOGIN = 'MAKE_LOGIN',\n  MAKE_LOGOUT = 'MAKE_LOGOUT',\n  CHANGE_INPUT_VALUE = 'CHANGE_INPUT_VALUE',\n  CLEAR_INPUT_VALUE = 'CLEAR_INPUT_VALUE',\n  CHANGE_PLAYLIST_NAME = 'CHANGE_PLAYLIST_NAME',\n  ERROR_FETCHING = 'ERROR_FETCHING',\n  SAVE_USER_ID = 'SAVE_USER_ID',\n  PUSH_NEW_TRACK = 'PUSH_NEW_TRACK',\n  GENERATING_PLAYLIST = 'GENERATING_PLAYLIST',\n  TRACKS_BEING_FETCHED = 'TRACKS_BEING_FETCHED',\n  IS_DELETING = 'IS_DELETING',\n}\n","import { ActionTypes } from '../constants/actionTypes'\nimport { LoginActions } from '../actions/login'\n\ninterface LoginState {\n  loggedIn: boolean\n  errorDescription: string\n}\n\nconst initialState = {\n  loggedIn: false,\n  errorDescription: '',\n}\n\nfunction assertNever(shouldBe: never): void {\n  return undefined\n}\n\nexport default function login(state: LoginState = initialState, action: LoginActions) {\n  switch (action.type) {\n    case ActionTypes.SAVE_ERROR_DESCRIPTION:\n      return {\n        ...state,\n        errorDescription: action.payload,\n      }\n\n    case ActionTypes.MAKE_LOGIN:\n      return {\n        ...state,\n        errorDescription: '',\n        loggedIn: true,\n      }\n\n    case ActionTypes.MAKE_LOGOUT:\n      return {\n        ...state,\n        loggedIn: false,\n        errorDescription: '',\n      }\n\n    default:\n      // this will error if one of the \"cases\" of LoginActions isn't handled\n      assertNever(action)\n      return state\n  }\n}\n","// import { handleActions } from '@housinganywhere/safe-redux'\n\nimport { Actions, Track } from '../actions/create'\nimport { ActionTypes } from '../constants/actionTypes'\n\ninterface CreateState {\n  inputValue: string\n  inputValueError: boolean\n  playlistName: string\n  fetchingTracks: boolean\n  generatingPlaylist: boolean\n  errorFetchingDescription: string\n  tracks: Track[]\n  deleting: boolean\n}\n\nconst initialState: CreateState = {\n  inputValue: '',\n  inputValueError: false,\n  playlistName: '',\n  fetchingTracks: false,\n  generatingPlaylist: false,\n  errorFetchingDescription: '',\n  tracks: [],\n  deleting: false,\n}\n\n// type CreateActionTypes =\n//   | ActionTypes.CHANGE_INPUT_VALUE\n//   | ActionTypes.CHANGE_PLAYLIST_NAME\n//   | ActionTypes.CLEAR_INPUT_VALUE\n//   | ActionTypes.ERROR_FETCHING\n//   | ActionTypes.GENERATING_PLAYLIST\n//   | ActionTypes.IS_DELETING\n//   | ActionTypes.PUSH_NEW_TRACK\n//   | ActionTypes.TRACKS_BEING_FETCHED\n\n// This is how I should handdle createReducer if using safe-redux\n// const createReducer = handleActions<CreateState, CreateActionTypes, Actions>(\n//   {\n//     [ActionTypes.CHANGE_INPUT_VALUE]: (s, { payload }) => ({ ...s, inputValue: payload }),\n//     [ActionTypes.CHANGE_PLAYLIST_NAME]: s => s,\n//     [ActionTypes.CLEAR_INPUT_VALUE]: (s, action) => s,\n//     [ActionTypes.ERROR_FETCHING]: s => s,\n//     [ActionTypes.GENERATING_PLAYLIST]: s => s,\n//     [ActionTypes.IS_DELETING]: s => s,\n//     [ActionTypes.PUSH_NEW_TRACK]: (s, { payload }) => ({ ...s, tracks: [...s.tracks, payload] }),\n//     [ActionTypes.TRACKS_BEING_FETCHED]: s => s,\n//   },\n//   initialState\n// )\n\nexport default function create(state: CreateState = initialState, action: Actions) {\n  switch (action.type) {\n    case ActionTypes.CHANGE_INPUT_VALUE:\n      return {\n        ...state,\n        inputValue: action.payload,\n      }\n\n    case ActionTypes.CLEAR_INPUT_VALUE:\n      return {\n        ...state,\n        inputValue: '',\n        playlistName: '',\n        tracks: [],\n        fetchingTracks: false,\n        errorFetchingDescription: '',\n      }\n\n    case ActionTypes.CHANGE_PLAYLIST_NAME:\n      return {\n        ...state,\n        playlistName: action.payload,\n      }\n\n    case ActionTypes.ERROR_FETCHING:\n      return {\n        ...state,\n        errorFetchingDescription: action.payload,\n      }\n\n    case ActionTypes.TRACKS_BEING_FETCHED:\n      return {\n        ...state,\n        fetchingTracks: action.payload,\n      }\n\n    case ActionTypes.PUSH_NEW_TRACK:\n      return {\n        ...state,\n        tracks: [...state.tracks, action.payload],\n      }\n\n    case ActionTypes.GENERATING_PLAYLIST:\n      return {\n        ...state,\n        generatingPlaylist: action.payload,\n      }\n\n    case ActionTypes.IS_DELETING:\n      return {\n        ...state,\n        deleting: action.payload,\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport login from './login'\nimport create from './create'\n\nconst rootReducer = combineReducers({ login, create })\n\nexport type RootState = ReturnType<typeof rootReducer>\n\nexport default rootReducer\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport ReduxThunk from 'redux-thunk'\nimport rootReducer, { RootState } from '../reducers'\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose\n  }\n}\n\nfunction configureStore(initialState: Partial<RootState> = {}) {\n  const middlewares = [ReduxThunk]\n  const enhancers = [applyMiddleware(...middlewares)]\n\n  if (process.env.NODE_ENV === 'production') {\n    return createStore(rootReducer, initialState, ...enhancers)\n  }\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n  const store = createStore(rootReducer, initialState, composeEnhancers(...enhancers))\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept('../reducers', () => {\n      /* eslint-disable global-require */\n      const nextReducer = require('../reducers').default\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n\nexport default configureStore()\n","export const tokenType = {\n  clientCredentialsFlow : 'Client Credentials Flow',\n  implicitGrantFlow: 'Implicit Grant Flow',\n}\n\nexport const siteName = 'Crosstify'\n\nexport const storageKey = 'spotifyCPTkn'\n\nexport const apiEndpoints = {\n  token: 'https://accounts.spotify.com/api/token',\n  base: 'https://api.spotify.com',\n  user: '/v1/users',\n  search: '/v1/search',\n  me: '/v1/me',\n}\n\nexport const sites = {\n  dev: 'http://localhost:3000',\n  prod: 'https://jonidelv.github.io/spotifyCP',\n}\n\nexport const palette = {\n  primary: '#07d159',\n  white: '#fff',\n  black: '#000',\n  errorCode: '#d03b0b',\n  background: 'linear-gradient(rgb(18, 18, 18), rgb(7, 7, 7) 85%)',\n  inputBg: '#242424',\n  greyText: 'hsla(0,0%,100%,.5)',\n}","import React from 'react'\nimport { css } from '@emotion/core'\nimport styled from '@emotion/styled'\nimport bg from '../assets/error-bg.jpg'\nimport logo from '../assets/logo.png'\nimport { palette } from '../constants'\n\ninterface LoginViewProps {\n  onPressLoginBtn: () => void\n  errorDescription: string\n}\n\nconst LoginView: React.FC<LoginViewProps> = ({ onPressLoginBtn, errorDescription }) => {\n  return (\n    <Wrapper>\n      <Overlay>\n        <Container>\n          <Form>\n            <Logo />\n            <LoginText>Create your own playlist</LoginText>\n            <LoginBtn onClick={onPressLoginBtn}>Start</LoginBtn>\n            {errorDescription && <ErrorText>{errorDescription}</ErrorText>}\n          </Form>\n          <Slogan>\n            <Title>Get the perfect Playlist Right Now</Title>\n            <Subtitle>Generate a playlist where the first letter of each song match the album name</Subtitle>\n          </Slogan>\n        </Container>\n      </Overlay>\n    </Wrapper>\n  )\n}\n\nexport default React.memo(LoginView)\n\nconst Wrapper = styled.div`\n  background: ${palette.background};\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-image: url(${bg});\n  background-size: 150%;\n  background-repeat: no-repeat;\n  background-position: center;\n  z-index: 1;\n  @media (max-width: 800px) {\n    background-size: cover;\n  }\n`\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 2;\n  background-color: rgba(0, 0, 0, 0.75);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  @media (max-width: 768px) {\n    overflow: scroll;\n  }\n`\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  max-width: 1000px;\n  margin: auto;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`\n\nconst Share = css`\n  color: ${palette.white};\n  align-self: center;\n  width: 35%;\n  @media (max-width: 768px) {\n    width: 90%;\n  }\n`\nconst Form = styled.div`\n  ${Share};\n  padding-right: 20px;\n  padding: 20px 50px 70px;\n  flex: 1;\n  @media (max-width: 768px) {\n    padding: 70px 50px 20px 50px;\n  }\n  @media (max-width: 500px) {\n    padding: 40px 50px 20px 50px;\n  }\n  @media (max-width: 400px) {\n    padding: 60px 50px 20px 50px;\n  }\n`\n\nconst Slogan = styled.div`\n  ${Share};\n  text-align: left;\n  border-left: 1px solid ${palette.white};\n  padding: 60px 0 60px 50px;\n  cursor: default;\n  flex: 2;\n  @media (max-width: 768px) {\n    width: 90%;\n    flex: 1;\n    border: 0;\n    padding: 20px 50px 60px 50px;\n    text-align: center;\n  }\n  @media (max-width: 500px) {\n    padding: 20px 50px 40px 50px;\n  }\n`\n\nconst Title = styled.h1`\n  color: ${palette.primary};\n  font-size: 50px;\n  font-weight: 500;\n  margin-bottom: 35px;\n  line-height: 55px;\n  @media (max-width: 550px) {\n    font-size: 35px;\n  }\n  @media (max-width: 375px) {\n    margin-bottom: 30px;\n    font-size: 28px;\n    line-height: 35px;\n  }\n`\n\nconst Subtitle = styled.h2`\n  font-size: 28px;\n  margin-bottom: 35px;\n  font-weight: 200;\n  font-weight: 400;\n  line-height: 35px;\n  padding-right: 20px;\n  @media (max-width: 550px) {\n    font-size: 18px;\n  }\n  @media (max-width: 375px) {\n    font-size: 14px;\n    line-height: 25px;\n  }\n`\n\nconst Logo = styled.div`\n  background-image: url(${logo});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 70px;\n  margin-bottom: 30px;\n`\n\nconst LoginText = styled.p`\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 20px;\n  @media (max-width: 400px) {\n    line-height: 25px;\n  }\n`\n\nconst LoginBtn = styled.button`\n  background-color: transparent;\n  letter-spacing: 1.5px;\n  width: 100%;\n  height: 40px;\n  border-radius: 20px;\n  outline: 0;\n  border: 2px solid ${palette.white};\n  color: ${palette.white};\n  font-size: 13px;\n  text-transform: uppercase;\n  cursor: pointer;\n  margin-top: 10px;\n  transition: all 0.4s ease;\n  &:hover {\n    border-color: ${palette.primary};\n    color: ${palette.white};\n    background-color: ${palette.primary};\n  }\n`\n\nconst ErrorText = styled.p`\n  margin-top: 25px;\n  display: block;\n  font-size: 15px;\n  text-align: center;\n  color: ${palette.errorCode};\n`\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { palette } from '../constants'\nimport errorBg from '../assets/error-bg.jpg'\n\nconst Error404: React.FC = () => {\n  return (\n    <Wrapper>\n      <Overlay>Sorry, couldn't find that.</Overlay>\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Error404)\n\nconst Wrapper = styled.div`\n  background: ${palette.background};\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-image: url(${errorBg});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  z-index: 1;\n`\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 2;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  font-size: 45px;\n  font-weight: 200;\n  color: ${palette.white};\n  letter-spacing: 1px;\n`\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { palette } from '../constants'\n\nconst DarkBackground: React.FC = () => {\n  return <Wrapper />\n}\n\nexport default React.memo(DarkBackground)\n\nconst Wrapper = styled.div`\n  background: ${palette.background};\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 1;\n`\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from '@emotion/styled'\nimport { palette } from '../constants'\nimport { Playlist, Spinner } from '../components'\nimport { Track } from '../actions/create'\n\ninterface CreateViewProps {\n  onInputChange: (value: React.ChangeEvent<HTMLInputElement>) => void\n  clearInputValue: () => void\n  onGeneratePlaylist: () => void\n  isKeyDownDelete: (value: React.KeyboardEvent<HTMLInputElement>) => void\n  inputValue: string\n  playlistName: string\n  fetchingTracks: boolean\n  tracks: Track[]\n  generatingPlaylist: boolean\n  errorFetchingDescription: string\n}\n\nconst CreateView: React.FC<CreateViewProps> = ({\n  inputValue,\n  onInputChange,\n  clearInputValue,\n  playlistName,\n  fetchingTracks,\n  tracks,\n  generatingPlaylist,\n  errorFetchingDescription,\n  onGeneratePlaylist,\n  isKeyDownDelete,\n}) => {\n  return (\n    <Wrapper>\n      <InputBox>\n        <Label>Write the playlist name here</Label>\n        {inputValue.length > 0 && <ClearInput onClick={clearInputValue}>X</ClearInput>}\n        <Input\n          id=\"name\"\n          placeholder=\"Start typing...\"\n          value={inputValue}\n          onChange={value => onInputChange(value)}\n          onKeyDown={value => isKeyDownDelete(value)}\n          disabled={generatingPlaylist}\n          autoComplete=\"off\"\n        />\n        {/[^a-z ]/i.test(inputValue) && <ErrorText>Just letter (A-Z) is supported</ErrorText>}\n      </InputBox>\n      <PlaylistBox>\n        {errorFetchingDescription && <ErrorText>{errorFetchingDescription}</ErrorText>}\n        <div>\n          <PlaylistName>{playlistName}</PlaylistName>\n          <Spinner loading={fetchingTracks} height={30} />\n        </div>\n        <Playlist tracks={tracks} />\n        <div>\n          {!fetchingTracks && tracks.length > 1 && (\n            <GenerateBtn onClick={onGeneratePlaylist} disabled={generatingPlaylist}>\n              Create Playlist\n            </GenerateBtn>\n          )}\n          <Spinner loading={generatingPlaylist} height={35} />\n        </div>\n      </PlaylistBox>\n    </Wrapper>\n  )\n}\n\nCreateView.propTypes = {\n  onInputChange: PropTypes.func.isRequired,\n  clearInputValue: PropTypes.func.isRequired,\n  onGeneratePlaylist: PropTypes.func.isRequired,\n  isKeyDownDelete: PropTypes.func.isRequired,\n  inputValue: PropTypes.string.isRequired,\n  playlistName: PropTypes.string.isRequired,\n  fetchingTracks: PropTypes.bool.isRequired,\n  tracks: PropTypes.array.isRequired,\n  generatingPlaylist: PropTypes.bool.isRequired,\n  errorFetchingDescription: PropTypes.string.isRequired,\n}\n\nexport default React.memo(CreateView)\n\nconst Wrapper = styled.div`\n  background-image: ${palette.background};\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n`\n\nconst InputBox = styled.div`\n  background-color: ${palette.inputBg};\n  padding: 1.5em 2em;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`\n\nconst Label = styled.label`\n  color: ${palette.white};\n  font-size: 14px;\n  letter-spacing: 1px;\n  margin-bottom: 0.5em;\n  font-weight: 300;\n`\n\nconst Input = styled.input`\n  background-color: transparent;\n  outline: 0;\n  box-sizing: border-box;\n  width: 100%;\n  border: none;\n  color: ${palette.white};\n  caret-color: ${palette.primary};\n  font-weight: 700;\n  font-size: 62px;\n  line-height: 1.2;\n  letter-spacing: 1.5px;\n  padding-right: 0.5em;\n  @media (max-width: 425px) {\n    font-size: 40px;\n    padding-right: 0.4em;\n  }\n`\nconst ErrorText = styled.p`\n  color: ${palette.errorCode};\n  font-size: 14px;\n  letter-spacing: 1px;\n  margin-top: 3px;\n  font-weight: 300;\n`\nconst ClearInput = styled.span`\n  position: absolute;\n  right: 3em;\n  top: 50%;\n  transform: translateY(-50%);\n  border-radius: 50%;\n  border: 1px solid ${palette.white};\n  color: ${palette.white};\n  font-size: 10px;\n  height: 22px;\n  width: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  @media (max-width: 425px) {\n    font-size: 8px;\n    height: 18px;\n    width: 18px;\n  }\n`\n\nconst PlaylistBox = styled.div`\n  flex: 1;\n  overflow: scroll;\n  padding: 3em 2em 1.5em 2em;\n  @media (max-width: 425px) {\n    padding-top: 2em;\n  }\n`\n\nconst PlaylistName = styled.h1`\n  color: ${palette.primary};\n  font-size: 30px;\n  line-height: 1.2;\n  letter-spacing: 1.5px;\n  display: inline-block;\n  margin-right: 15px;\n  vertical-align: middle;\n  @media (max-width: 425px) {\n    font-size: 20px;\n  }\n`\n\nconst GenerateBtn = styled.button`\n  background-color: transparent;\n  width: 200px;\n  height: 40px;\n  border-radius: 20px;\n  outline: 0;\n  border: 2px solid ${palette.white};\n  color: ${palette.white};\n  font-size: 13px;\n  text-transform: uppercase;\n  cursor: pointer;\n  margin-right: 15px;\n  transition: all 0.4s ease;\n  letter-spacing: 1.5px;\n  display: inline-block;\n  vertical-align: middle;\n  &:hover {\n    border-color: ${palette.primary};\n    color: ${palette.white};\n    background-color: ${palette.primary};\n  }\n  @media (max-width: 425px) {\n    width: 170px;\n    height: 33px;\n    border-radius: 15px;\n    font-size: 12px;\n  }\n`\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { PlaylistItem } from '../components'\nimport { Track } from '../actions/create'\n\ninterface PlaylistProps {\n  tracks: Track[]\n}\n\nconst Playlist: React.FC<PlaylistProps> = ({ tracks }) => {\n  return (\n    <Wrapper>\n      {tracks.map((track, i) => (\n        <PlaylistItem\n          key={i}\n          order={i + 1}\n          title={track.title}\n          artist={track.artist}\n          album={track.album}\n          duration={track.duration}\n          link={track.link}\n        />\n      ))}\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Playlist)\n\nconst Wrapper = styled.ol`\n  margin: 50px 0;\n`\n","import React from 'react'\nimport ring from '../assets/ring.svg'\nimport styled from '@emotion/styled'\n\ninterface SpinnerProps {\n  loading: boolean\n  height: number\n}\n\nconst Spinner: React.FC<SpinnerProps> = ({ loading, height }) => {\n  return !loading ? null : <Ring src={ring} height={height || 40} width={height || 40} alt={'Loading Spinner'} />\n}\n\nexport default React.memo(Spinner)\n\nconst Ring = styled.img`\n  display: inline-block;\n  vertical-align: middle;\n`\n","function millisToMinutes(millis: number) {\n  const minutes: number = Math.floor(millis / 60000)\n  const seconds = Number(((millis % 60000) / 1000).toFixed(0))\n  return `${minutes} : ${seconds < 10 ? '0' : ''}${seconds}`\n}\n\nexport default millisToMinutes\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { palette } from '../constants'\nimport millisToMinutes from '../utils/millisToMinutes'\n\ninterface PlaylistItemProps {\n  title: string\n  artist: string\n  album: string\n  duration: number\n  order: number\n  link: string\n}\n\nconst PlaylistItem: React.FC<PlaylistItemProps> = ({ title, artist, album, duration, order, link }) => {\n  return (\n    <Track>\n      <NameContainer>\n        <Order>{order}.</Order>\n        <Link href={link} target={'_blank'}>\n          <Title>\n            <Strong>{title[0]}</Strong>\n            {title.substring(1)}\n          </Title>\n          <Description>{`${artist} - ${album}`}</Description>\n        </Link>\n      </NameContainer>\n      <div>\n        <Duration>{millisToMinutes(duration)}</Duration>\n      </div>\n    </Track>\n  )\n}\n\nexport default React.memo(PlaylistItem)\n\nconst Track = styled.li`\n  display: flex;\n  justify-content: space-between;\n  color: ${palette.white};\n  margin-bottom: 35px;\n  cursor: default;\n`\nconst NameContainer = styled.div`\n  display: flex;\n  > div {\n    display: flex;\n    flex-direction: column;\n  }\n`\nconst Order = styled.div`\n  font-size: 17px;\n  margin-right: 20px;\n  margin-top: 2px;\n  color: ${palette.greyText};\n  font-weight: 300;\n  width: 22px;\n`\n\nconst Title = styled.div`\n  font-size: 18px;\n  color: ${palette.white};\n  font-weight: 300;\n  text-transform: capitalize;\n  padding-right: 15px;\n  &:hover {\n    color: ${palette.primary};\n  }\n`\n\nconst Description = styled.div`\n  font-size: 15px;\n  color: ${palette.greyText};\n  font-weight: 300;\n  text-transform: capitalize;\n  margin-top: 5px;\n  padding-right: 15px;\n`\n\nconst Link = styled.a`\n  display: block;\n`\n\nconst Duration = styled.div`\n  font-size: 16px;\n  color: ${palette.greyText};\n  font-weight: 300;\n  margin-top: 2px;\n  width: 55px;\n`\n\nconst Strong = styled.span`\n  color: ${palette.primary};\n  font-size: 20px;\n  font-weight: 400;\n`\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { LoginView } from '../components'\nimport lscache from 'lscache'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport { tokenType, storageKey, apiEndpoints } from '../constants'\n\nconst transitionLogin = props => () => {\n  const clientId = process.env.REACT_APP_CLIENT_ID\n  const clientSecret = process.env.REACT_APP_CLIENT_SECRET\n  const urlencoded = new URLSearchParams()\n  urlencoded.append('grant_type', 'client_credentials')\n\n  const authOptions = {\n    method: 'post',\n    url: apiEndpoints.token,\n    headers: {\n      'Content-type': 'application/x-www-form-urlencoded',\n    },\n    auth: {\n      username: clientId,\n      password: clientSecret,\n    },\n    data: urlencoded,\n  }\n\n  axios(authOptions)\n    .then(response => {\n      const exp = response.data.expires_in / 60\n      const payload = {\n        token: response.data.access_token,\n        type: tokenType.clientCredentialsFlow,\n      }\n      lscache.set(storageKey, payload, exp)\n      props.dispatch({ type: 'MAKE_LOGIN' })\n      props.history.push('/create')\n    })\n    .catch(err => {\n      console.log('err', err)\n    })\n}\n\nconst Login = props => {\n  React.memo(() => {\n    if (props.loggedIn) props.history.push('/create')\n  }, [])\n\n  return <LoginView onPressLoginBtn={transitionLogin(props)} errorDescription={props.errorDescription} />\n}\n\nconst mapStateToProps = state => ({\n  errorDescription: state.login.errorDescription,\n  loggedIn: state.login.loggedIn,\n})\n\nLogin.propTypes = {\n  errorDescription: PropTypes.string.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n}\n\nexport default connect(mapStateToProps)(React.memo(Login))\n","import { ActionTypes } from '../constants/actionTypes'\n\ninterface ErrorAction {\n  type: ActionTypes.SAVE_ERROR_DESCRIPTION\n  payload: string\n}\n\ninterface LoginAction {\n  type: ActionTypes.MAKE_LOGIN | ActionTypes.MAKE_LOGOUT\n}\n\nexport type LoginActions = ErrorAction | LoginAction\n\nexport const saveErrorDescription = (payload: string): ErrorAction => ({\n  type: ActionTypes.SAVE_ERROR_DESCRIPTION,\n  payload,\n})\n\nexport const makeLogin = (): LoginAction => ({ type: ActionTypes.MAKE_LOGIN })\nexport const makeLogout = (): LoginAction => ({ type: ActionTypes.MAKE_LOGOUT })\n","import axios from 'axios'\nimport lscache from 'lscache'\nimport { apiEndpoints } from '../constants'\nimport { storageKey } from '../constants'\n\ninterface ErrorType {\n  status?: number\n  message?: string\n}\n\nfunction errorMessage(err: ErrorType) {\n  if (err.status === 401) {\n    lscache.flush()\n    window.location.href = '/'\n    return err.message || 'Error'\n  }\n\n  return err.message || 'Error'\n}\n\nconst api = axios.create({\n  baseURL: apiEndpoints.base,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n})\n\napi.interceptors.request.use(\n  config => {\n    // Do something before request is sent\n    const data = lscache.get(storageKey)\n    const token = data && data.token\n    if (token) {\n      // eslint-disable-next-line no-param-reassign\n      config.headers.common.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  error =>\n    // Do something with request error\n    Promise.reject(error)\n)\n\n// Add a response interceptor\napi.interceptors.response.use(\n  response =>\n    // Do something with response data\n    response.data,\n  error =>\n    // Do something with response error\n    Promise.reject(errorMessage(error))\n)\n\nexport default api\n","import { AxiosResponse } from 'axios'\nimport { apiEndpoints } from '../constants'\nimport api from './api'\n\ninterface UserService {\n  get: () => Promise<AxiosResponse>\n}\n\nconst get = () => api.get(apiEndpoints.me)\n\nconst userService: UserService = { get }\n\nexport default userService\n","import { apiEndpoints } from '../constants'\nimport api from './api'\n\nconst playlistService = {}\n\nplaylistService.create = (userId, playlist) => api.post(`${apiEndpoints.user}/${userId}/playlists`, playlist)\n\nplaylistService.addTracks = (userId, playlistId, tracks) =>\n  api.post(`${apiEndpoints.user}/${userId}/playlists/${playlistId}/tracks`, tracks)\n\nexport default playlistService\n","function getRandomInt(min = 1, max = 2000) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport default getRandomInt\n","import { AxiosResponse } from 'axios'\nimport { apiEndpoints } from '../constants'\nimport api from './api'\nimport getRandomInt from '../utils/getRandomInt'\n\ninterface SearchService {\n  get: (playlistNameLastCh: string) => Promise<AxiosResponse>\n}\n\nconst get = playlistNameLastCh => {\n  const query = {\n    q: `track:${playlistNameLastCh}`,\n    type: 'track',\n    limit: 50,\n    offset: getRandomInt(),\n  }\n\n  return api.get(`${apiEndpoints.search}`, { params: query })\n}\n\nconst searchService: SearchService = { get }\n\nexport default searchService\n","import { ThunkAction } from 'redux-thunk'\nimport { createAction, ActionsUnion } from '@housinganywhere/safe-redux'\nimport { RootState } from '../reducers'\n\nimport { ActionTypes } from '../constants/actionTypes'\nimport userService from '../services/user'\nimport playlistService from '../services/playlist'\nimport searchService from '../services/search'\nimport { siteName } from '../constants'\n\nexport interface Track {\n  title: string\n  artist: string\n  album: string\n  duration: number\n  id: string\n  order: number\n  link: string\n  uri: string\n}\n\nexport const Actions = {\n  changeInputValue: (input: string) => createAction(ActionTypes.CHANGE_INPUT_VALUE, input),\n  clearInputValue: () => createAction(ActionTypes.CLEAR_INPUT_VALUE),\n  changePlaylistName: (name: string) => createAction(ActionTypes.CHANGE_PLAYLIST_NAME, name),\n  errorFetching: (error: string) => createAction(ActionTypes.ERROR_FETCHING, error),\n  pushNewTrack: (track: Track) => createAction(ActionTypes.PUSH_NEW_TRACK, track),\n  generatingPlaylist: (generate: boolean) => createAction(ActionTypes.GENERATING_PLAYLIST, generate),\n  tracksBeingFetched: (beingFetched: boolean) => createAction(ActionTypes.TRACKS_BEING_FETCHED, beingFetched),\n  isDeleting: (deleting: boolean) => createAction(ActionTypes.IS_DELETING, deleting),\n}\nexport type Actions = ActionsUnion<typeof Actions>\n\ntype Thunk = ThunkAction<void, RootState, void, Actions>\n\nexport function generatePlaylist(uris: string[], playlistName: string): Thunk {\n  return (dispatch, getState) => {\n    let userId = ''\n    let playlistUri = ''\n    dispatch(Actions.generatingPlaylist(true))\n    userService\n      .get()\n      .then((user: any) => {\n        console.log('user', user)\n        userId = user.id\n        return playlistService.create(userId, {\n          name: getState().create.playlistName,\n          description: `Generated with ${siteName}`,\n        })\n      })\n      .then((playlist: any) => {\n        playlistUri = playlist.external_urls.spotify\n        return playlistService.addTracks(userId, playlist.id, {\n          uris,\n        })\n      })\n      .then(() => {\n        window.open(playlistUri)\n        dispatch(Actions.clearInputValue())\n      })\n      .catch((err: any) => {\n        dispatch(Actions.generatingPlaylist(false))\n        dispatch(Actions.errorFetching(`${err} try again later`))\n      })\n      .finally(() => {\n        dispatch(Actions.generatingPlaylist(false))\n      })\n  }\n}\n\nexport function fetchTracks(playlistName: string, idx: number): Thunk {\n  return (dispatch, getState) => {\n    dispatch(Actions.changePlaylistName(playlistName))\n    const order = idx\n    const playlistNameLastCh = playlistName.substr(-1)\n    if (playlistNameLastCh && playlistNameLastCh !== ' ') {\n      dispatch(Actions.tracksBeingFetched(true))\n      getSearchService(playlistNameLastCh)\n        .then((track: any) => {\n          const newTrack = {\n            title: track.name,\n            artist: track.artists[0].name,\n            album: track.album.name,\n            duration: track.duration_ms,\n            id: track.id,\n            order,\n            link: track.external_urls.spotify,\n            uri: track.uri,\n          }\n          const state = getState()\n          const playlistName = state.create.playlistName\n          const tracks = state.create.tracks\n          const matchOrder = playlistName[newTrack.order] === playlistNameLastCh\n          const exitPushNewTrack = tracks.length >= playlistName.length\n          if (playlistName && !exitPushNewTrack && matchOrder) {\n            dispatch(Actions.pushNewTrack(newTrack))\n          }\n          dispatch(Actions.errorFetching(''))\n        })\n        .catch((err: string) => {\n          dispatch(Actions.errorFetching(`${err} try again later`))\n        })\n    }\n  }\n}\n\nasync function getSearchService(playlistNameLastCh: string) {\n  let track\n  do {\n    try {\n      const response: any = await searchService.get(playlistNameLastCh)\n      track = response.tracks.items.find(track => track.name[0] === playlistNameLastCh.toUpperCase())\n    } catch (error) {\n      console.log('error fetching track', error)\n    }\n  } while (!track)\n\n  return track\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { DarkBackground } from '../components'\nimport queryString from 'query-string'\nimport lscache from 'lscache'\nimport { tokenType, storageKey } from '../constants'\n\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { makeLogin, saveErrorDescription } from '../actions/login'\nimport { Actions, generatePlaylist as generatePlaylistAction } from '../actions/create'\n\nconst CreateActions = { ...Actions, generatePlaylistAction }\nconst LoginActions = { makeLogin, saveErrorDescription }\n\nconst parseHash = (hashName, location) => {\n  const hash = location.hash.substr(1)\n  return hash\n    .substr(hash.indexOf(`${hashName}=`))\n    .split('&')[0]\n    .split('=')[1]\n}\n\nconst parseUrl = props => () => {\n  if (props.location.hash) {\n    const token = parseHash('access_token', props.location)\n    const exp = parseHash('expires_in', props.location) / 60\n    const state = parseHash('state', props.location)\n    const tracksWithPlaylist = state.split('.')\n    const playlistName = tracksWithPlaylist.splice(-1, 1)[0]\n    const tracksUris = tracksWithPlaylist.map(uri => `spotify:track:${uri}`)\n    const payload = {\n      token,\n      type: tokenType.implicitGrantFlow,\n    }\n    lscache.set(storageKey, payload, exp)\n    props.generatePlaylist(tracksUris, playlistName)\n    props.history.push('/create')\n  } else {\n    const query = queryString.parse(props.location.search)\n    const description = query.error ? query.error : 'Something unexpected happens try again'\n    props.saveErrorDescription(description)\n    props.history.push('/')\n  }\n}\n\nconst Callback = props => {\n  React.useMemo(parseUrl(props), [])\n\n  return <DarkBackground />\n}\n\nCallback.propTypes = {\n  saveErrorDescription: PropTypes.func.isRequired,\n  makeLogin: PropTypes.func.isRequired,\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const loginActions = bindActionCreators(LoginActions, dispatch)\n  const createActions = bindActionCreators(CreateActions, dispatch)\n\n  return {\n    saveErrorDescription: loginActions.saveErrorDescription,\n    makeLogin: loginActions.makeLogin,\n    generatePlaylist: createActions.generatePlaylistAction,\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(React.memo(Callback))\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport lscache from 'lscache'\nimport { tokenType, storageKey } from '../constants'\nimport { sites } from '../constants'\nimport { CreateView } from '../components'\n\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Actions, generatePlaylist as generatePlaylistAction, fetchTracks } from '../actions/create'\n\nconst createActions = { ...Actions, generatePlaylistAction, fetchTracks }\n\nconst isFetchingTracks = props => {\n  const playlistNameLgth = props.playlistName.replace(/ /g, '').length - 1\n  return playlistNameLgth === props.tracks.length\n}\n\nconst renderTask = props => () => {\n  if (!props.loggedIn) props.history.push('/')\n  if (isFetchingTracks(props)) {\n    props.tracksBeingFetched(false)\n  }\n}\n\nconst isKeyDownDelete = props => e => {\n  if (e.keyCode === 8) {\n    props.isDeleting(true)\n    props.tracksBeingFetched(false)\n  } else {\n    props.isDeleting(false)\n  }\n}\n\nconst clearInputValue = props => () => {\n  props.clearInputValue()\n}\n\nconst onInputChange = props => e => {\n  if (props.deleting) {\n    clearInputValue(props)()\n    return\n  }\n  const value = e.target.value\n  props.changeInputValue(value)\n  if (!/[^a-z ]/i.test(value)) {\n    props.fetchTracks(value, value.length - 1)\n  }\n}\n\nconst generatePlaylist = props => {\n  const playlistName = props.playlistName\n  const uris = props.tracks.sort((a, b) => a.order - b.order).map(track => track.uri)\n  props.generatePlaylist(uris, playlistName)\n}\n\nconst implicitGrantFlowLogin = props => {\n  const callback = process.env.NODE_ENV === 'development' ? `${sites.dev}/callback` : `${sites.prod}/callback`\n  const redirect = encodeURIComponent(callback)\n  const base = 'https://accounts.spotify.com/'\n  const client = process.env.REACT_APP_CLIENT_ID\n  const scope = 'user-read-private user-library-read user-top-read playlist-modify-public'\n  const scopeUri = encodeURIComponent(scope)\n  const playlistName = props.playlistName\n  const tracks = props.tracks.sort((a, b) => a.order - b.order).map(track => track.uri.replace('spotify:track:', ''))\n  tracks.push(playlistName) // Add playlist name to the state\n  const state = encodeURIComponent(tracks.join('.'))\n  const url = `${base}authorize?client_id=${client}&redirect_uri=${redirect}&scope=${scopeUri}&response_type=token&state=${state}`\n  window.location.replace(url)\n}\n\nconst onGeneratePlaylist = props => () => {\n  const data = lscache.get(storageKey)\n  const type = data && data.type\n  if (type === tokenType.implicitGrantFlow) {\n    generatePlaylist(props)\n    return\n  }\n\n  implicitGrantFlowLogin(props)\n}\n\nconst Create = props => {\n  // Similar to comp will mount or construct\n  React.useMemo(renderTask(props), [])\n  React.useEffect(renderTask(props))\n\n  return (\n    <CreateView\n      inputValue={props.inputValue}\n      onInputChange={onInputChange(props)}\n      clearInputValue={clearInputValue(props)}\n      playlistName={props.playlistName}\n      fetchingTracks={props.fetchingTracks}\n      tracks={props.tracks.sort((a, b) => a.order - b.order)}\n      generatingPlaylist={props.generatingPlaylist}\n      errorFetchingDescription={props.errorFetchingDescription}\n      onGeneratePlaylist={onGeneratePlaylist(props)}\n      isKeyDownDelete={isKeyDownDelete(props)}\n    />\n  )\n}\n\nconst mapStateToProps = state => ({\n  loggedIn: state.login.loggedIn,\n  inputValue: state.create.inputValue,\n  playlistName: state.create.playlistName,\n  fetchingTracks: state.create.fetchingTracks,\n  tracks: state.create.tracks,\n  generatingPlaylist: state.create.generatingPlaylist,\n  errorFetchingDescription: state.create.errorFetchingDescription,\n  deleting: state.create.deleting,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  const actions = bindActionCreators(createActions, dispatch)\n  return {\n    changeInputValue: actions.changeInputValue,\n    clearInputValue: actions.clearInputValue,\n    fetchTracks: actions.fetchTracks,\n    generatePlaylist: actions.generatePlaylistAction,\n    tracksBeingFetched: actions.tracksBeingFetched,\n    isDeleting: actions.isDeleting,\n  }\n}\n\nCreate.propTypes = {\n  changeInputValue: PropTypes.func.isRequired,\n  clearInputValue: PropTypes.func.isRequired,\n  fetchTracks: PropTypes.func.isRequired,\n  generatePlaylist: PropTypes.func.isRequired,\n  tracksBeingFetched: PropTypes.func.isRequired,\n  isDeleting: PropTypes.func.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n  inputValue: PropTypes.string.isRequired,\n  playlistName: PropTypes.string.isRequired,\n  fetchingTracks: PropTypes.bool.isRequired,\n  tracks: PropTypes.array.isRequired,\n  generatingPlaylist: PropTypes.bool.isRequired,\n  errorFetchingDescription: PropTypes.string.isRequired,\n  deleting: PropTypes.bool.isRequired,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Create))\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport lscache from 'lscache'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { Error404 } from '../components'\nimport { storageKey, siteName } from '../constants'\nimport { Login, Callback, Create } from '../containers'\n\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as LoginActions from '../actions/login'\n\nconst checkTkn = props => () => {\n  const data = lscache.get(storageKey)\n  const token = data && data.token\n  if (!!token) {\n    props.makeLogin()\n  } else {\n    props.makeLogout()\n  }\n}\n\nconst Routes = props => {\n  // Similar to comp will mount or construct\n  React.useMemo(checkTkn(props), [])\n  React.useEffect(checkTkn(props))\n\n  return (\n    <Router basename={process.env.NODE_ENV === 'development' ? '' : siteName.toLocaleLowerCase()}>\n      <Switch>\n        <Route path=\"/\" component={Login} exact />\n        <Route path=\"/callback\" component={Callback} exact />\n        <Route path=\"/create\" component={Create} exact />\n        <Route component={Error404} />\n      </Switch>\n    </Router>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    loggedIn: state.login.loggedIn,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const actions = bindActionCreators(LoginActions, dispatch)\n  return {\n    makeLogin: actions.makeLogin,\n    makeLogout: actions.makeLogout,\n  }\n}\n\nRoutes.propTypes = {\n  makeLogin: PropTypes.func.isRequired,\n  makeLogout: PropTypes.func.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Routes)\n","/** @jsx jsx */\nimport { css, jsx, Global, SerializedStyles } from '@emotion/core'\n\nconst globalStyles: SerializedStyles = css`\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:200,400,500');\n\n  html,\n  body,\n  div,\n  span,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  cite,\n  code,\n  em,\n  img,\n  strong,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  footer,\n  header,\n  menu,\n  nav,\n  output,\n  section,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n\n  html,\n  body {\n    line-height: 1;\n    height: 100%;\n    width: 100%;\n    font-family: 'Montserrat', sans-serif;\n    height: 100vh;\n    overflow: hidden;\n  }\n\n  ol,\n  ul {\n    list-style: none;\n  }\n\n  blockquote,\n  q {\n    quotes: none;\n  }\n\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n`\n\nconst GlobalStyles: React.FC = () => {\n  return <Global styles={globalStyles} />\n}\n\nexport default GlobalStyles\n","/* eslint-disable no-console */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport Routes from './routes'\nimport GlobalStyles from './styles/GlobalStyles'\nimport * as registerServiceWorker from './utils/serviceWorker'\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.Fragment>\n      <GlobalStyles />\n      <Routes />\n    </React.Fragment>\n  </Provider>,\n  document.getElementById('root')\n)\nregisterServiceWorker.register()\n"],"sourceRoot":""}